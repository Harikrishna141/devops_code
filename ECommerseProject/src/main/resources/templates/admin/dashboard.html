<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { background: #f8f9fa; }
        .sidebar { height: 100vh; background: #343a40; color: #fff; }
        .sidebar a { color: #fff; text-decoration: none; display: block; padding: 10px; }
        .sidebar a:hover { background: #495057; }
        .card { border-radius: 10px; }
    </style>
</head>
<body>
<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
		
        <div class="col-md-2 sidebar p-3">
			<h4 class="text-center mb-4">Admin Panel</h4>
            <h4 class="text-white">Menu</h4>
          <a href="#">Dashboard</a> 
        <!---   <a href="#">Analytics</a>
            <a href="#">Commerce</a>
            <a href="#">Sales</a>
            <a href="#">CRM</a>
            <a href="#">Pages</a> --> 
			<a href="/admin/category"><i class="fa-solid fa-list"></i> Category Management</a>
			<a href="/admin/loadAddProduct"><i class="fa-solid fa-square-plus"></i>  Product Management</a>
			       <a href="/admin/products"><i class="fa-solid fa-table-list"></i> View Products</a>
				   <a class="nav-link active" aria-current="page" href="/products">Product</a></li>
			       <a href="/admin/orders"><i class="fa-solid fa-box-open"></i> Orders</a>
			       <a href="/admin/users?type=1"><i class="fa-solid fa-circle-user"></i> Users</a>
			       <a href="/admin/add-admin"><i class="fa-solid fa-user-plus"></i> Add Admin</a>
        </div>

        <!-- Main Content -->
        <div class="col-md-10 p-4">
            <h3>Minimal Dashboard </h3>
            <div class="row mt-4">
                <div class="col-md-3">
                    <div class="card text-center p-3 bg-primary text-white">
                        <h6>New Accounts</h6>
                        <h2 th:text="${newAccounts} + '%'"></h2>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-center p-3 bg-danger text-white">
                        <h6>Total Expenses</h6>
                        <h2 th:text="${totalExpenses} + '%'"></h2>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-center p-3 bg-warning text-dark">
                        <h6>Company Value</h6>
                        <h2 th:text="${companyValue}"></h2>
                    </div>
                </div>
              <div class="col-md-3">
                    <div class="card text-center p-3 bg-success text-white">
                        <h6>Total Orders</h6>
                        <h2 th:text="${newEmployees} + ' orders'"></h2>
                    </div>
                </div>
            </div>  

            <!-- Traffic Chart -->
            <div class="row mt-4">
                <div class="col-md-8">
                    <div class="card p-3">
                        <h5>Traffic Sources</h5>
                        <canvas id="trafficChart"></canvas>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card p-3">
                        <h5>Income</h5>
                        <canvas id="incomeChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script th:inline="javascript">
    // Traffic Chart
    const trafficData = /*[[${trafficData}]]*/ [100,200,300];
    const ctx = document.getElementById('trafficChart').getContext('2d');
    new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],
            datasets: [{
                label: 'Website Visitors',
                data: trafficData,
                backgroundColor: 'rgba(54,162,235,0.6)'
            }]
        }
    });

    // Income Chart
    const incomePercent = /*[[${incomePercent}]]*/ 75;
    const ctx2 = document.getElementById('incomeChart').getContext('2d');
    new Chart(ctx2, {
        type: 'doughnut',
        data: {
            labels: ['Income','Remaining'],
            datasets: [{
                data: [incomePercent, 100-incomePercent],
                backgroundColor: ['#28a745','#e0e0e0']
            }]
        }
    });
</script>
</body>
</html>
